{% layout 'layout.liquid' %}
{% block content %}
<div class="container-md">
    <article>
        <h3>Artist: {{ feed.artist }}</h3>
        <!-- if user leaves album/song empty - it will not show -->
            {% if feed.song.length > 0 %}
                <h3>Song: {{ feed.song }}</h3>
            {% endif %}
            {% if feed.album.length > 0 %}
                <h3>Album: {{ feed.album }}</h3>
            {% endif %}
        <h6>Topic: {{ feed.opinion }}</h6>
        {% if feed.owner == userId %}

            <a href="/feed/{{ feed.id }}/edit" class="btn btn-primary";">Edit</a> 
            <form action="/feed/{{ feed.id }}?_method=DELETE" method="POST">
                <input type="submit" value="Delete" class="btn btn-danger">
            </form>

        {% endif %}
    </article></br>
    <!-- Where comments go/populate -->
    <div class="col-md-6" >
        <form action="/comments/{{feed.id}}" method="POST">
            <fieldset>
                <legend>Add Comment</legend>
                <label class="form-label">Comment: </label>
                <input type="text" class="form-control" name="note" placeholder="enter comment here...">
            </fieldset>
            <input type="submit" class="btn btn-success" value="Add Comment">
        </form>
    </div>

    {% if feed.comments.length > 0 %}
        <!-- here we'll add our comment container -->
        <div class="container-sm justify-content-center" >
            <div class="col-md-8 col-lg-6">
                <!-- here we need to loop over the comments -->
                <!-- for every comment render a comment.liquid block -->
                {% for comment in feed.comments %}
                    {% render '../comment.liquid', comment:comment, userId:
                    userId, feed:feed %}
                {% endfor %}
            </div>
        </div>
    {% endif %}

</div>
{% endblock %}